
interface IAccion {
  + actualizarLimites(AccionesDisponibles limites)  
  + superaLimites(accionesDisponibles): bool
  + sumarAPuntaje(Puntaje unPuntaje)
  + sumarAFichas(Fichas fichas)
}
class Descarte implements IAccion{
  - List<CartaDePoker> cartasDescartadas
  + Descarte(List<CartaDePoker> cartasDescartadas)
}
class Jugada implements IAccion{
  + Jugada(List<Carta> cartas)
  + aplicarTarots(List<Tarot> tarotsActivos)
  + calcularPuntaje() : PuntajeJugada
  + contieneCombinacion(CombinacionDePoker combinacion):bool
}


interface IMejorador {
  {abstract}+ mejorar( IMejorable mejorable)
}

class CombinacionDeComodines{
  + nombre : string 
  + descripcion : string 
  + CombinacionDeComodines(nombre, descripcion, List<Comodin>)
}
Class Tarot implements IMejorador{
    - nombre : string 
    - descripcion : string 
    + Tarot(nombre, descripcion, IMejora mejora, ICondicion condicion)
}


class Comodin implements IMejorador{
    - nombre : string 
    - descripcion : string
    + aplicarEfecto(IMejorable mejorable) :
    + Comodin(nombre, descripcion, IMejora mejora, ICondicion condicion)
}

class ActivarAlAzar implements ICondicion{
    - probabilidad: int 
    + ActivarAlAzar(int probabilidad)
}


class RestriccionACarta implements ICondicion{
    - contexto : string 
    - elemento : string 
    + RestriccionACarta(String nombreDeLaCarta)
}
class RestriccionACombinacion implements ICondicion{
    - contexto : string 
    - elemento : string 
}
class EsDescarte implements ICondicion{
    - contexto : string 
    - elemento : string 
    + EsDescarte()
    + EsDescarte(string elemento)
}
class EsUnaJugada implements ICondicion{
    - contexto : string 
    - elemento : string 
    + EsUnaJugada(string elemento)
}

interface IMejorable{
  {abstract}+ siContieneAplicarMejora(string contexto, string elemento, Mejora mejora)
}

interface IMejora{
  {abstract}  + aplicarAPuntaje(PuntajeJugada puntaje)
}

interface ICondicion {
    {abstract}+ aplicarMejora(IMejorable mejorable, Mejora mejora)
}

CombinacionDePoker ..|> IMejorable 
CombinacionDeComodines o- "1..2" Comodin 
IMejora --o Tarot
Descarte ..|> IMejorable
CartaDePoker ..|> IMejorable
IMejora "1..*"  --o Comodin 
Jugada ..|> IMejorable
Tarot o-- ICondicion
Comodin o-- ICondicion
IMejorable <.. IMejorador : conoce

@enduml

